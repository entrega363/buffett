<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buffet Sobral</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #e91e63, #9c27b0); color: white; padding: 20px; text-align: center; }
        .header h1 { font-size: 1.8rem; margin-bottom: 8px; }
        .nav-tabs { background: white; display: flex; }
        .nav-tab { flex: 1; padding: 15px; text-align: center; border: none; background: none; cursor: pointer; border-bottom: 3px solid transparent; }
        .nav-tab.active { color: #9c27b0; border-bottom-color: #9c27b0; background: #f8f4ff; }
        .content { padding: 20px; max-width: 600px; margin: 0 auto; }
        .section { display: none; }
        .section.active { display: block; }
        .simulator-form { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .event-types { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin: 20px 0; }
        .event-type { padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; text-align: center; cursor: pointer; font-size: 0.9rem; }
        @media (min-width: 768px) {
            .event-types { grid-template-columns: repeat(4, 1fr); }
        }
        .event-type.active { background: #9c27b0; color: white; border-color: #9c27b0; }
        .package-card { background: white; border-radius: 12px; padding: 20px; margin: 15px 0; border: 2px solid #e0e0e0; cursor: pointer; }
        .package-header { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .package-name { font-size: 1.2rem; font-weight: 600; }
        .package-price { font-size: 1.1rem; font-weight: 600; color: #4caf50; }
        .service-card { background: white; border-radius: 12px; margin: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; }
        .service-image { 
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
            border-radius: 12px 12px 0 0;
            margin-bottom: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .service-image:hover { 
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        .service-image-placeholder {
            background: linear-gradient(135deg, #e91e63, #9c27b0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            width: 100%;
            height: 200px;
            border-radius: 12px 12px 0 0;
            margin-bottom: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            position: relative;
        }
        .service-image-placeholder:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        .service-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 15px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }
        .service-image:hover .service-image-overlay,
        .service-image-placeholder:hover .service-image-overlay {
            transform: translateY(0);
        }
        .service-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            will-change: transform;
        }
        .service-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }
        @media (max-width: 767px) {
            .service-image, .service-image-placeholder {
                height: 150px;
                border-radius: 8px 8px 0 0;
            }
        }
        @media (min-width: 768px) {
            .services-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
            .service-card { margin: 0; }
            .service-image, .service-image-placeholder {
                height: 180px;
            }
        }
        @media (min-width: 1024px) {
            .service-image, .service-image-placeholder {
                height: 200px;
            }
        }
        .service-content { padding: 20px; }
        .service-title { font-size: 1.3rem; font-weight: 600; margin-bottom: 8px; }
        .service-price { font-size: 1.2rem; font-weight: 600; color: #4caf50; }
        .btn-add { background: #9c27b0; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; }
        .selected-services { background: #e3f2fd; border-radius: 12px; padding: 20px; margin: 20px 0; display: none; }
        .selected-services.show { display: block; }
        .selected-services h3 { color: #1976d2; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
        .clear-btn { background: none; border: none; color: #f44336; cursor: pointer; font-size: 0.9rem; }
        .service-item { background: white; border-radius: 8px; padding: 15px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .service-info { flex: 1; }
        .service-name { font-weight: 600; margin-bottom: 5px; }
        .service-calc { font-size: 0.9rem; color: #666; }
        .remove-btn { background: none; border: none; color: #f44336; cursor: pointer; font-size: 0.9rem; }
        .total-section { background: #f8f9fa; border-radius: 8px; padding: 15px; margin-top: 15px; text-align: center; }
        .total-amount { font-size: 1.3rem; font-weight: bold; color: #2e7d32; }
        .whatsapp-btn { background: #25d366; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-size: 1rem; margin-top: 15px; display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; }
        .whatsapp-btn:hover { background: #128c7e; }
        .service-slider-container { margin-top: 10px; }
        .service-slider { width: 100%; height: 4px; border-radius: 2px; background: #e0e0e0; outline: none; -webkit-appearance: none; }
        .service-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 16px; height: 16px; border-radius: 50%; background: #2196f3; cursor: pointer; }
        .service-quantity { font-size: 0.9rem; color: #1976d2; font-weight: 600; margin-bottom: 5px; }
        .slider-labels { display: flex; justify-content: space-between; font-size: 0.7rem; color: #999; margin-top: 3px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéÇ Buffet Sobral</h1>
        <div>Festas inesquec√≠veis em Sobral e regi√£o</div>
        <div>üìç Sobral - CE</div>
    </div>

    <div class="nav-tabs">
        <button class="nav-tab" onclick="showTab('catalogo')">üìã Cat√°logo</button>
        <button class="nav-tab active" onclick="showTab('simulador')">üí∞ Simulador</button>
        <button class="nav-tab" onclick="showTab('agenda')">üìÖ Agenda</button>
        <button class="nav-tab" onclick="showTab('avaliacoes')">‚≠ê Avalia√ß√µes</button>
    </div>

    <div class="content">
        <div id="catalogo" class="section">
            <h2>Nossos Servi√ßos</h2>
            
            <div class="services-grid">
            <div class="service-card">
                <div class="service-image-placeholder" data-service="buffet-completo" role="img" aria-label="Imagem do servi√ßo Buffet Completo">
                    üçΩÔ∏è
                    <div class="service-image-overlay">Buffet completo com variedade</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Buffet Completo</h3>
                    <p>Salgados, doces, bebidas e servi√ßo completo</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 45/pessoa</span>
                        <button class="btn-add" onclick="addService('Buffet Completo', 45, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="bolo-personalizado" role="img" aria-label="Imagem do servi√ßo Bolo Personalizado">
                    üéÇ
                    <div class="service-image-overlay">Bolos √∫nicos e personalizados</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Bolo Personalizado</h3>
                    <p>Bolos tem√°ticos e personalizados para sua festa</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 120/pessoa</span>
                        <button class="btn-add" onclick="addService('Bolo Personalizado', 120, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="decoracao-tematica" role="img" aria-label="Imagem do servi√ßo Decora√ß√£o Tem√°tica">
                    üé®
                    <div class="service-image-overlay">Decora√ß√£o criativa e tem√°tica</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Decora√ß√£o Tem√°tica</h3>
                    <p>Decora√ß√£o completa para todos os tipos de festa</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 200/pessoa</span>
                        <button class="btn-add" onclick="addService('Decora√ß√£o Tem√°tica', 200, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="coffee-break" role="img" aria-label="Imagem do servi√ßo Coffee Break Corporativo">
                    ‚òï
                    <div class="service-image-overlay">Coffee break profissional</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Coffee Break Corporativo</h3>
                    <p>Caf√©, salgados, doces e sucos para eventos empresariais</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 25/pessoa</span>
                        <button class="btn-add" onclick="addService('Coffee Break Corporativo', 25, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="jantar-executivo" role="img" aria-label="Imagem do servi√ßo Jantar Executivo">
                    ü•Ç
                    <div class="service-image-overlay">Jantar sofisticado e elegante</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Jantar Executivo</h3>
                    <p>Menu sofisticado para jantares corporativos e eventos formais</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 85/pessoa</span>
                        <button class="btn-add" onclick="addService('Jantar Executivo', 85, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="coquetel-confraternizacao" role="img" aria-label="Imagem do servi√ßo Coquetel de Confraterniza√ß√£o">
                    üç∏
                    <div class="service-image-overlay">Coquetel social e descontra√≠do</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Coquetel de Confraterniza√ß√£o</h3>
                    <p>Finger foods, canap√©s e bebidas para eventos sociais</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 35/pessoa</span>
                        <button class="btn-add" onclick="addService('Coquetel de Confraterniza√ß√£o', 35, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="lanche-eventos" role="img" aria-label="Imagem do servi√ßo Lanche para Eventos">
                    ü•™
                    <div class="service-image-overlay">Lanches pr√°ticos e saborosos</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Lanche para Eventos</h3>
                    <p>Sandu√≠ches, salgados e refrigerantes para eventos casuais</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 18/pessoa</span>
                        <button class="btn-add" onclick="addService('Lanche para Eventos', 18, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>

            <div class="service-card">
                <div class="service-image-placeholder" data-service="churrasco-completo" role="img" aria-label="Imagem do servi√ßo Churrasco Completo">
                    üî•
                    <div class="service-image-overlay">Churrasco tradicional e saboroso</div>
                </div>
                <div class="service-content">
                    <h3 class="service-title">Churrasco Completo</h3>
                    <p>Carnes nobres, acompanhamentos e saladas para confraterniza√ß√µes</p>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span class="service-price">R$ 55/pessoa</span>
                        <button class="btn-add" onclick="addService('Churrasco Completo', 55, 'pessoa')">Adicionar</button>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <div id="simulador" class="section active">
            <h2>Simule seu Or√ßamento</h2>
            <div class="simulator-form">
                <div>
                    <label>Tipo de Evento</label>
                    <div class="event-types">
                        <div class="event-type active">Anivers√°rio</div>
                        <div class="event-type">Casamento</div>
                        <div class="event-type">Formatura</div>
                        <div class="event-type">Corporativo</div>
                    </div>
                </div>
                
                <div>
                    <label>N√∫mero de Convidados: <span id="guestCount">59</span></label>
                    <input type="range" min="20" max="500" value="59" id="guestSlider" style="width: 100%; margin: 10px 0;" oninput="updateGuestCount(this.value)">
                    <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #666; margin-top: 5px;">
                        <span>20</span>
                        <span>500</span>
                    </div>
                </div>

                <!-- Se√ß√£o de Servi√ßos Selecionados -->
                <div id="selectedServices" class="selected-services">
                    <h3>
                        Servi√ßos Selecionados
                        <button class="clear-btn" onclick="clearAllServices()">Limpar</button>
                    </h3>
                    <div id="servicesList"></div>
                    <div class="total-section">
                        <div>Total do Or√ßamento</div>
                        <div class="total-amount" id="totalAmount">R$ 0</div>
                        <button class="whatsapp-btn" onclick="shareWhatsApp()" id="whatsappBtn" style="display: none;">
                            üì± Fechar Or√ßamento no WhatsApp
                        </button>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <label style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        Escolha seu Pacote
                        <button style="background: none; border: none; color: #9c27b0; cursor: pointer; font-size: 0.9rem;" onclick="showPackages()">Voltar aos Pacotes</button>
                    </label>
                    
                    <div class="package-card" onclick="selectPackage(this, 'Pacote B√°sico', 35)">
                        <div class="package-header">
                            <div class="package-name">Pacote B√°sico</div>
                            <div class="package-price">R$ 35/pessoa</div>
                        </div>
                        <div>‚úì Buffet simples<br>‚úì Refrigerantes<br>‚úì Bolo b√°sico</div>
                    </div>

                    <div class="package-card" onclick="selectPackage(this, 'Pacote Completo', 55)">
                        <div class="package-header">
                            <div class="package-name">Pacote Completo</div>
                            <div class="package-price">R$ 55/pessoa</div>
                        </div>
                        <div>‚úì Buffet completo<br>‚úì Bebidas variadas<br>‚úì Bolo personalizado</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="agenda" class="section">
            <h2>Agenda de Disponibilidade</h2>
            <div style="background: white; padding: 20px; border-radius: 12px;">
                <p>üìÖ Janeiro 2024</p>
                <p style="margin-top: 15px;">üü¢ Dispon√≠vel &nbsp; üî¥ Ocupado</p>
            </div>
        </div>

        <div id="avaliacoes" class="section">
            <h2>Avalia√ß√µes dos Clientes</h2>
            <div style="background: white; padding: 20px; border-radius: 12px; text-align: center; margin-bottom: 20px;">
                <div style="font-size: 1.5rem; color: #ffc107;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <div>4.9/5 (127 avalia√ß√µes)</div>
            </div>
            
            <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <strong>Ana Paula</strong>
                    <span style="color: #999;">14/01/2024</span>
                </div>
                <div style="color: #ffc107; margin-bottom: 10px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                <p>Buffet maravilhoso! A festa do meu filho ficou perfeita. Recomendo demais!</p>
            </div>
        </div>
    </div>

    <script>
        let selectedServices = [];
        
        function showTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        function updateGuestCount(value) {
            document.getElementById('guestCount').textContent = value;
            updateServiceCalculations();
        }
        
        function addService(name, price, unit) {
            // Verificar se o servi√ßo j√° foi adicionado
            if (selectedServices.find(service => service.name === name)) {
                alert('Este servi√ßo j√° foi adicionado!');
                return;
            }
            
            const defaultGuests = parseInt(document.getElementById('guestCount').textContent);
            
            selectedServices.push({
                name: name,
                price: price,
                unit: unit,
                quantity: defaultGuests,
                id: Date.now() // ID √∫nico para cada servi√ßo
            });
            
            updateServicesDisplay();
            showTab('simulador');
        }
        
        function removeService(serviceName) {
            selectedServices = selectedServices.filter(service => service.name !== serviceName);
            updateServicesDisplay();
        }
        
        function clearAllServices() {
            selectedServices = [];
            updateServicesDisplay();
        }
        
        function updateServicesDisplay() {
            const servicesList = document.getElementById('servicesList');
            const selectedServicesDiv = document.getElementById('selectedServices');
            const whatsappBtn = document.getElementById('whatsappBtn');
            
            if (selectedServices.length === 0) {
                selectedServicesDiv.classList.remove('show');
                whatsappBtn.style.display = 'none';
                return;
            }
            
            selectedServicesDiv.classList.add('show');
            whatsappBtn.style.display = 'flex';
            
            let total = 0;
            
            servicesList.innerHTML = selectedServices.map(service => {
                const serviceTotal = service.price * service.quantity;
                total += serviceTotal;
                
                return `
                    <div class="service-item">
                        <div class="service-info">
                            <div class="service-name">${service.name}</div>
                            <div class="service-quantity">Quantidade: ${service.quantity} pessoas</div>
                            <div class="service-slider-container">
                                <input type="range" min="1" max="500" value="${service.quantity}" 
                                       class="service-slider" 
                                       oninput="updateServiceQuantity(${service.id}, this.value)">
                                <div class="slider-labels">
                                    <span>1</span>
                                    <span>500</span>
                                </div>
                            </div>
                            <div class="service-calc">R$ ${service.price}/${service.unit} = R$ ${serviceTotal.toLocaleString('pt-BR')}</div>
                        </div>
                        <button class="remove-btn" onclick="removeService('${service.name}')">Remover</button>
                    </div>
                `;
            }).join('');
            
            document.getElementById('totalAmount').textContent = `R$ ${total.toLocaleString('pt-BR')}`;
        }
        
        function updateServiceCalculations() {
            // Atualizar a quantidade de todos os servi√ßos com base no slider principal
            const mainGuestCount = parseInt(document.getElementById('guestCount').textContent);
            selectedServices.forEach(service => {
                service.quantity = mainGuestCount;
            });
            
            if (selectedServices.length > 0) {
                updateServicesDisplay();
            }
        }
        
        function updateServiceQuantity(serviceId, newQuantity) {
            const service = selectedServices.find(s => s.id === serviceId);
            if (service) {
                service.quantity = parseInt(newQuantity);
                updateServicesDisplay();
            }
        }
        
        function selectPackage(element, packageName, price) {
            document.querySelectorAll('.package-card').forEach(c => {
                c.style.borderColor = '#e0e0e0';
                c.style.background = 'white';
            });
            element.style.borderColor = '#9c27b0';
            element.style.background = '#f8f4ff';
        }
        
        function showPackages() {
            // Fun√ß√£o para voltar aos pacotes (pode ser implementada conforme necess√°rio)
            console.log('Voltando aos pacotes...');
        }
        
        // Adicionar interatividade aos tipos de evento
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.event-type').forEach(type => {
                type.addEventListener('click', function() {
                    document.querySelectorAll('.event-type').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
        
        function shareWhatsApp() {
            const guestCount = document.getElementById('guestCount').textContent;
            const totalAmount = document.getElementById('totalAmount').textContent;
            const selectedEventType = document.querySelector('.event-type.active').textContent;
            
            let message = `üéâ *Or√ßamento Buffet Sobral* üéâ\n\n`;
            message += `üìã *Tipo de Evento:* ${selectedEventType}\n`;
            message += `üë• *N√∫mero de Convidados:* ${guestCount} pessoas\n\n`;
            message += `üçΩÔ∏è *Servi√ßos Selecionados:*\n`;
            
            selectedServices.forEach(service => {
                const serviceTotal = service.price * service.quantity;
                message += `‚Ä¢ ${service.name}\n`;
                message += `  ${service.quantity} pessoas √ó R$ ${service.price} = R$ ${serviceTotal.toLocaleString('pt-BR')}\n\n`;
            });
            
            message += `üí∞ *TOTAL: ${totalAmount}*\n\n`;
            message += `üìç Buffet Sobral - CE\n`;
            message += `üìû Entre em contato para confirmar!`;
            
            const whatsappUrl = `https://wa.me/5588999999999?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
        
        // Fun√ß√£o para carregar dados do painel administrativo
        function loadAdminData() {
            const servicesData = localStorage.getItem('servicesData');
            if (servicesData) {
                const data = JSON.parse(servicesData);
                updateServicesFromAdmin(data);
            }
        }
        
        // Fun√ß√£o para atualizar servi√ßos com dados do admin
        function updateServicesFromAdmin(adminData) {
            // Mapeamento dos IDs do admin para os elementos do site
            const serviceMapping = {
                'buffet-completo': { name: 'Buffet Completo', defaultPrice: 45 },
                'bolo-personalizado': { name: 'Bolo Personalizado', defaultPrice: 120 },
                'decoracao-tematica': { name: 'Decora√ß√£o Tem√°tica', defaultPrice: 200 },
                'coffee-break': { name: 'Coffee Break Corporativo', defaultPrice: 25 },
                'jantar-executivo': { name: 'Jantar Executivo', defaultPrice: 85 },
                'coquetel-confraternizacao': { name: 'Coquetel de Confraterniza√ß√£o', defaultPrice: 35 },
                'lanche-eventos': { name: 'Lanche para Eventos', defaultPrice: 18 },
                'churrasco-completo': { name: 'Churrasco Completo', defaultPrice: 55 }
            };
            
            Object.keys(serviceMapping).forEach(serviceId => {
                const serviceData = adminData[serviceId];
                const mapping = serviceMapping[serviceId];
                const serviceElement = document.querySelector(`[data-service="${serviceId}"]`);
                
                if (serviceElement && serviceData) {
                    // Atualizar pre√ßo se foi modificado
                    if (serviceData.price && serviceData.price !== mapping.defaultPrice) {
                        const serviceCard = serviceElement.closest('.service-card');
                        const priceElement = serviceCard.querySelector('.service-price');
                        if (priceElement) {
                            priceElement.textContent = `R$ ${serviceData.price}/pessoa`;
                        }
                        
                        // Atualizar tamb√©m no JavaScript para o simulador
                        updateServicePrice(mapping.name, serviceData.price);
                    }
                    
                    // Adicionar imagem se foi carregada
                    if (serviceData.image) {
                        addServiceImage(serviceElement.closest('.service-card'), serviceData.image);
                    }
                }
            });
        }
        
        // Fun√ß√£o para atualizar pre√ßo no simulador
        function updateServicePrice(serviceName, newPrice) {
            // Atualizar nos bot√µes de adicionar servi√ßo
            const buttons = document.querySelectorAll('button[onclick*="addService"]');
            buttons.forEach(button => {
                const onclick = button.getAttribute('onclick');
                if (onclick.includes(serviceName)) {
                    // Extrair par√¢metros atuais
                    const match = onclick.match(/addService\('([^']+)',\s*(\d+),\s*'([^']+)'\)/);
                    if (match) {
                        const [, name, , unit] = match;
                        button.setAttribute('onclick', `addService('${name}', ${newPrice}, '${unit}')`);
                    }
                }
            });
        }
        
        // Fun√ß√£o para adicionar imagem ao servi√ßo
        function addServiceImage(serviceElement, imageData) {
            const placeholder = serviceElement.querySelector('.service-image-placeholder');
            if (placeholder) {
                // Substituir placeholder por imagem real
                const imageContainer = document.createElement('div');
                imageContainer.className = 'service-image';
                imageContainer.setAttribute('data-service', placeholder.getAttribute('data-service'));
                
                // Criar elemento img para detectar erros de carregamento
                const img = new Image();
                img.onload = function() {
                    imageContainer.style.backgroundImage = `url(${imageData})`;
                    // Manter o overlay original
                    const overlay = placeholder.querySelector('.service-image-overlay');
                    if (overlay) {
                        imageContainer.appendChild(overlay.cloneNode(true));
                    }
                    placeholder.parentNode.replaceChild(imageContainer, placeholder);
                };
                img.onerror = function() {
                    console.warn('Erro ao carregar imagem para servi√ßo:', placeholder.getAttribute('data-service'));
                    // Manter placeholder em caso de erro
                };
                img.src = imageData;
            }
        }
        
        // Fun√ß√£o para detectar imagens quebradas e substituir por placeholder
        function handleImageError(serviceId) {
            const serviceElement = document.querySelector(`[data-service="${serviceId}"]`);
            if (serviceElement && serviceElement.classList.contains('service-image')) {
                // Substituir imagem quebrada por placeholder
                const placeholder = createServicePlaceholder(serviceId);
                serviceElement.parentNode.replaceChild(placeholder, serviceElement);
            }
        }
        
        // Fun√ß√£o para criar placeholder baseado no ID do servi√ßo
        function createServicePlaceholder(serviceId) {
            const serviceIcons = {
                'buffet-completo': { icon: 'üçΩÔ∏è', text: 'Buffet completo com variedade', alt: 'Imagem do servi√ßo Buffet Completo' },
                'bolo-personalizado': { icon: 'üéÇ', text: 'Bolos √∫nicos e personalizados', alt: 'Imagem do servi√ßo Bolo Personalizado' },
                'decoracao-tematica': { icon: 'üé®', text: 'Decora√ß√£o criativa e tem√°tica', alt: 'Imagem do servi√ßo Decora√ß√£o Tem√°tica' },
                'coffee-break': { icon: '‚òï', text: 'Coffee break profissional', alt: 'Imagem do servi√ßo Coffee Break Corporativo' },
                'jantar-executivo': { icon: 'ü•Ç', text: 'Jantar sofisticado e elegante', alt: 'Imagem do servi√ßo Jantar Executivo' },
                'coquetel-confraternizacao': { icon: 'üç∏', text: 'Coquetel social e descontra√≠do', alt: 'Imagem do servi√ßo Coquetel de Confraterniza√ß√£o' },
                'lanche-eventos': { icon: 'ü•™', text: 'Lanches pr√°ticos e saborosos', alt: 'Imagem do servi√ßo Lanche para Eventos' },
                'churrasco-completo': { icon: 'üî•', text: 'Churrasco tradicional e saboroso', alt: 'Imagem do servi√ßo Churrasco Completo' }
            };
            
            const serviceData = serviceIcons[serviceId] || { icon: 'üçΩÔ∏è', text: 'Servi√ßo de buffet', alt: 'Imagem do servi√ßo' };
            
            const placeholder = document.createElement('div');
            placeholder.className = 'service-image-placeholder';
            placeholder.setAttribute('data-service', serviceId);
            placeholder.setAttribute('role', 'img');
            placeholder.setAttribute('aria-label', serviceData.alt);
            placeholder.innerHTML = `
                ${serviceData.icon}
                <div class="service-image-overlay">${serviceData.text}</div>
            `;
            
            return placeholder;
        }
        
        // Fun√ß√£o para implementar lazy loading de imagens
        function setupLazyLoading() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const imageElement = entry.target;
                            const backgroundImage = window.getComputedStyle(imageElement).backgroundImage;
                            
                            if (backgroundImage && backgroundImage !== 'none') {
                                // Imagem j√° est√° carregada, apenas observar
                                observer.unobserve(imageElement);
                            }
                        }
                    });
                });
                
                document.querySelectorAll('.service-image, .service-image-placeholder').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }
        
        // Fun√ß√£o para monitorar erros de imagem
        function setupImageErrorHandling() {
            // Monitorar todas as imagens de servi√ßo
            document.querySelectorAll('.service-image').forEach(imageElement => {
                const serviceId = imageElement.getAttribute('data-service');
                
                // Verificar se a imagem de background carregou corretamente
                const backgroundImage = window.getComputedStyle(imageElement).backgroundImage;
                if (backgroundImage && backgroundImage !== 'none') {
                    const imageUrl = backgroundImage.slice(5, -2); // Remove url(" e ")
                    
                    const testImg = new Image();
                    testImg.onerror = function() {
                        console.warn(`Erro ao carregar imagem para servi√ßo ${serviceId}:`, imageUrl);
                        handleImageError(serviceId);
                    };
                    testImg.src = imageUrl;
                }
            });
        }
        
        // Fun√ß√£o para log de erros
        function logImageError(serviceId, imageUrl, error) {
            const errorData = {
                timestamp: new Date().toISOString(),
                serviceId: serviceId,
                imageUrl: imageUrl,
                error: error.message || 'Erro desconhecido'
            };
            
            console.error('Erro de imagem registrado:', errorData);
            
            // Salvar no localStorage para debugging (opcional)
            const errorLog = JSON.parse(localStorage.getItem('imageErrors') || '[]');
            errorLog.push(errorData);
            
            // Manter apenas os √∫ltimos 10 erros
            if (errorLog.length > 10) {
                errorLog.shift();
            }
            
            localStorage.setItem('imageErrors', JSON.stringify(errorLog));
        }
        
        // Carregar dados do admin quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            loadAdminData();
            
            // Configurar lazy loading
            setupLazyLoading();
            
            // Configurar monitoramento de erros ap√≥s um pequeno delay
            setTimeout(setupImageErrorHandling, 1000);
        });
        
        // Fun√ß√£o de teste para validar implementa√ß√£o
        function validateImageImplementation() {
            const results = {
                placeholdersFound: 0,
                placeholdersWithIcons: 0,
                placeholdersWithOverlay: 0,
                placeholdersWithAccessibility: 0,
                cssClassesPresent: false
            };
            
            // Verificar placeholders
            const placeholders = document.querySelectorAll('.service-image-placeholder');
            results.placeholdersFound = placeholders.length;
            
            placeholders.forEach(placeholder => {
                // Verificar √≠cones
                if (placeholder.textContent.match(/[üçΩÔ∏èüéÇüé®‚òïü•Çüç∏ü•™üî•]/)) {
                    results.placeholdersWithIcons++;
                }
                
                // Verificar overlay
                if (placeholder.querySelector('.service-image-overlay')) {
                    results.placeholdersWithOverlay++;
                }
                
                // Verificar acessibilidade
                if (placeholder.getAttribute('role') === 'img' && placeholder.getAttribute('aria-label')) {
                    results.placeholdersWithAccessibility++;
                }
            });
            
            // Verificar se classes CSS est√£o presentes
            const styleElement = document.querySelector('style');
            if (styleElement && styleElement.textContent.includes('.service-image-placeholder')) {
                results.cssClassesPresent = true;
            }
            
            console.log('üé® Valida√ß√£o das Melhorias CSS das Imagens:', results);
            
            // Verificar se implementa√ß√£o est√° completa
            const isComplete = results.placeholdersFound === 8 && 
                             results.placeholdersWithIcons === 8 && 
                             results.placeholdersWithOverlay === 8 && 
                             results.placeholdersWithAccessibility === 8 && 
                             results.cssClassesPresent;
            
            if (isComplete) {
                console.log('‚úÖ Implementa√ß√£o das melhorias CSS conclu√≠da com sucesso!');
            } else {
                console.warn('‚ö†Ô∏è Alguns elementos da implementa√ß√£o podem estar faltando.');
            }
            
            return results;
        }
        
        console.log('Buffet Sobral carregado!');
        
        // Executar valida√ß√£o ap√≥s carregamento completo
        setTimeout(validateImageImplementation, 2000);
    </script>
</body>
</html>