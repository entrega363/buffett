document.addEventListener("DOMContentLoaded",function(){console.log("HatchCanvas Copy - Site carregado"),initializeApp()});function initializeApp(){initMobileMenu(),initSmoothScroll(),initScrollReveal(),initScrollIndicator(),initFormValidation(),initCounterAnimation(),initTypingEffect(),console.log("Todas as funcionalidades inicializadas")}function initMobileMenu(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".header-nav");if(e&&t){e.addEventListener("click",function(){const n=e.classList.contains("active");n?(e.classList.remove("active"),t.classList.remove("mobile-active"),e.setAttribute("aria-expanded","false")):(e.classList.add("active"),t.classList.add("mobile-active"),e.setAttribute("aria-expanded","true"))});const n=document.querySelectorAll(".nav-link");n.forEach(n=>{n.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("mobile-active"),e.setAttribute("aria-expanded","false")})}),window.addEventListener("resize",utils.debounce(()=>{window.innerWidth>768&&(e.classList.remove("active"),t.classList.remove("mobile-active"),e.setAttribute("aria-expanded","false"))},250))}}function initSmoothScroll(){const e=document.querySelectorAll('a[href^="#"]');e.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href"),o=document.querySelector(n);if(o){const t=document.querySelector(".header").offsetHeight,r=o.offsetTop-t-20;window.scrollTo({top:r,behavior:"smooth"}),updateActiveNavLink(n)}})})}function updateActiveNavLink(e){const t=document.querySelectorAll(".nav-link");t.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===e&&t.classList.add("active")})}function initScrollReveal(){const e=document.querySelectorAll(".scroll-reveal, .scroll-reveal-left, .scroll-reveal-right");if(0===e.length){const e=document.querySelectorAll("section");e.forEach((e,t)=>{t%2==0?e.classList.add("scroll-reveal"):e.classList.add("scroll-reveal-left")});const t=document.querySelectorAll(".feature-card, .gallery-item");t.forEach(e=>{e.classList.add("scroll-reveal")})}const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("revealed")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".scroll-reveal, .scroll-reveal-left, .scroll-reveal-right").forEach(e=>{t.observe(e)})}function initScrollIndicator(){let e=document.querySelector(".scroll-indicator");e||(e=document.createElement("div"),e.className="scroll-indicator",document.body.appendChild(e)),window.addEventListener("scroll",utils.debounce(()=>{const t=window.pageYOffset,n=document.documentElement.scrollHeight-window.innerHeight,o=t/n*100;e.style.width=o+"%"},10))}function initFormValidation(){const e=document.querySelector(".contact-form");if(e){e.addEventListener("submit",function(t){t.preventDefault();const n=new FormData(e),o=Object.fromEntries(n);validateForm(o)?(showFormSuccess(),e.reset()):showFormError()});const t=e.querySelectorAll(".form-input, .form-textarea");t.forEach(e=>{e.addEventListener("blur",function(){validateField(this)}),e.addEventListener("input",function(){clearFieldError(this)})})}}function validateForm(e){let t=!0;return e.name&&!(e.name.trim().length<2)||(showFieldError("name","Nome deve ter pelo menos 2 caracteres"),t=!1),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(showFieldError("email","Email inválido"),t=!1),e.subject&&!(e.subject.trim().length<3)||(showFieldError("subject","Assunto deve ter pelo menos 3 caracteres"),t=!1),e.message&&!(e.message.trim().length<10)||(showFieldError("message","Mensagem deve ter pelo menos 10 caracteres"),t=!1),t}function validateField(e){const t=e.value.trim(),n=e.name;switch(n){case"name":if(t.length<2)return showFieldError(n,"Nome deve ter pelo menos 2 caracteres"),!1;break;case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return showFieldError(n,"Email inválido"),!1;break;case"subject":if(t.length<3)return showFieldError(n,"Assunto deve ter pelo menos 3 caracteres"),!1;break;case"message":if(t.length<10)return showFieldError(n,"Mensagem deve ter pelo menos 10 caracteres"),!1}return clearFieldError(e),!0}function showFieldError(e,t){const n=document.querySelector(`[name="${e}"]`),o=n.closest(".form-group"),r=o.querySelector(".field-error");r&&r.remove();const s=document.createElement("span");s.className="field-error",s.textContent=t,s.style.color="var(--error-color)",s.style.fontSize="var(--font-size-sm)",s.style.marginTop="var(--spacing-xs)",s.style.display="block",o.appendChild(s),n.classList.add("error-state")}function clearFieldError(e){const t=e.closest(".form-group"),n=t.querySelector(".field-error");n&&n.remove(),e.classList.remove("error-state")}function showFormSuccess(){showNotification("Mensagem enviada com sucesso!","success")}function showFormError(){showNotification("Por favor, corrija os erros no formulário.","error")}function showNotification(e,t){const n=document.createElement("div");n.className=`notification ${t}-state`,n.textContent=e,n.style.cssText=`position:fixed;top:20px;right:20px;padding:var(--spacing-md) var(--spacing-lg);border-radius:var(--radius-md);color:white;font-weight:500;z-index:10000;transform:translateX(100%);transition:transform var(--transition-normal);background-color:${"success"===t?"var(--success-color)":"var(--error-color)"};`,document.body.appendChild(n),setTimeout(()=>{n.style.transform="translateX(0)"},100),setTimeout(()=>{n.style.transform="translateX(100%)",setTimeout(()=>{n.remove()},300)},3e3)}function initCounterAnimation(){const e=document.querySelectorAll(".stat-number"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(animateCounter(e.target),t.unobserve(e.target))})},{threshold:.5});e.forEach(e=>{t.observe(e)})}function animateCounter(e){const t=parseInt(e.textContent.replace(/\D/g,"")),n=e.textContent.replace(/\d/g,"");let o=0;const r=t/100,s=setInterval(()=>{o+=r,o>=t&&(o=t,clearInterval(s)),e.textContent=Math.floor(o)+n},20)}function initTypingEffect(){const e=document.querySelectorAll(".typing-effect");e.forEach(e=>{const t=e.textContent;e.textContent="",e.style.borderRight="2px solid var(--primary-color)";let n=0;const o=()=>{n<t.length?(e.textContent+=t.charAt(n),n++,setTimeout(o,100)):setTimeout(()=>{e.style.borderRight="none"},1e3)},r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(setTimeout(o,500),r.unobserve(e.target))})},{threshold:.5});r.observe(e)})}const utils={debounce:function(e,t){let n;return function(...o){const r=()=>{clearTimeout(n),e(...o)};clearTimeout(n),n=setTimeout(r,t)}},isMobile:function(){return window.innerWidth<=768},isElementVisible:function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},scrollToElement:function(e,t=0){const n=e.offsetTop-t;window.scrollTo({top:n,behavior:"smooth"})}};window.addEventListener("scroll",utils.debounce(()=>{const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-link");let n="";e.forEach(e=>{const t=e.offsetTop-100,o=e.offsetHeight;window.pageYOffset>=t&&window.pageYOffset<t+o&&(n=e.getAttribute("id"))}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${n}`&&e.classList.add("active")})},100));